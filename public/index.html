<!DOCTYPE html>
<html>
  <head><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script></head>
    <body>

      <form id="frm1" action="/action_page.php">
        Learning Area: <select name="learningarea">
          <option value="Mathematics">Mathematics</option>
          <option value="Science">Science</option>
          <option value="English">English</option>
          <option value="History">History</option>
        </select>
        Year Level: <input type="checkbox" name="year" value="7">7
        <input type="checkbox" name="year" value="8">8
        <input type="checkbox" name="year" value="9">9
        <input type="checkbox" name="year" value="10">10
        <input type="checkbox" name="year" value="11">11
        <input type="checkbox" name="year" value="12">12
        <br/>
        <textarea rows="4" cols="50" name="text">
          At w3schools.com you will learn how to make a website. We offer free tutorials in all web development technologies.
        </textarea>
        <input type="submit" value="Submit">
      </form> 

      <p>Click "Get Alignments" to display the top aligned outcomes for the current text.</p>

      <button onclick="myFunction()">Get Alignments</button>

      <p id="demo"></p>
      <p id="demo1"></p>


      <script>
        function myFunction() {
          var x = document.getElementById("frm1");
          var url = "";
          url += "area=" + x.elements["learningarea"].value;
          var years = x.elements["year"];
          var i;
          for(i=0; i< years.length; i++) {
            if(years[i].checked) {
              url += "&year=" + years[i].value;
            }
          }
          url += "&text=" + encodeURIComponent(x.elements["text"].value);
          document.getElementById("demo").innerHTML = url;
          $.get("http://localhost:1576/align?" + url, function(data, status) {
            if(status == "success") {
              var text= "<ul>";
              for (var i=0; i< 5; i++) {
                text += "<li><input type='checkbox' name='outcome' value='" + data[i].Item + 
                  "'>" + data[i].Item + ": " + data[i].Text;
              }
              text += "</ul>";
              document.getElementById("demo1").innerHTML = text;
            } else {
              document.getElementById("demo1").innerHTML = "Error!";
            }
          });
        }
      </script>

    </body>
</html>
